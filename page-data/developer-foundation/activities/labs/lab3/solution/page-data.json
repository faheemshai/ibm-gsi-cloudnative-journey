{"componentChunkName":"component---src-pages-developer-foundation-activities-labs-lab-3-solution-mdx","path":"/developer-foundation/activities/labs/lab3/solution/","result":{"pageContext":{"frontmatter":{"title":"Kubernetes Lab 3 - Manage Multiple Containers"},"relativePagePath":"/developer-foundation/activities/labs/lab3/solution.mdx","titleType":"page","MdxNode":{"id":"9937e0fa-2d8a-578c-852c-e472b0ba3d7d","children":[],"parent":"755c851e-1c5a-5bab-a3fc-bc96df1bac49","internal":{"content":"---\ntitle: Kubernetes Lab 3 - Manage Multiple Containers\n---\n\n## Solution\n\n```yaml\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: vader-service-ambassador-config\ndata:\n  haproxy.cfg: |-\n    global\n        daemon\n        maxconn 256\n\n    defaults\n        mode http\n        timeout connect 5000ms\n        timeout client 50000ms\n        timeout server 50000ms\n\n    listen http-in\n        bind *:80\n        server server1 127.0.0.1:8775 maxconn 32\n```\n\n```yaml\napiVersion: v1\nkind: Pod\nmetadata:\n  name: vader-service\nspec:\n  containers:\n  - name: millennium-falcon\n    image: ibmcase/millennium-falcon:1\n  - name: haproxy-ambassador\n    image: haproxy:1.7\n    ports:\n    - containerPort: 80\n    volumeMounts:\n    - name: config-volume\n      mountPath: /usr/local/etc/haproxy\n  volumes:\n  - name: config-volume\n    configMap:\n      name: vader-service-ambassador-config\n``` \n\n```yaml\napiVersion: v1\nkind: Pod\nmetadata:\n  name: busybox\nspec:\n  containers:\n  - name: myapp-container\n    image: radial/busyboxplus:curl\n    command: ['sh', '-c', 'while true; do sleep 3600; done']\n```\n\n```bash\nkubectl exec busybox -- curl $(kubectl get pod vader-service -o=jsonpath='{.status.podIP}'):80\n```\n","type":"Mdx","contentDigest":"3a02bdb7e5258958035738fd5d11c13c","owner":"gatsby-plugin-mdx","counter":1091},"frontmatter":{"title":"Kubernetes Lab 3 - Manage Multiple Containers"},"exports":{},"rawBody":"---\ntitle: Kubernetes Lab 3 - Manage Multiple Containers\n---\n\n## Solution\n\n```yaml\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: vader-service-ambassador-config\ndata:\n  haproxy.cfg: |-\n    global\n        daemon\n        maxconn 256\n\n    defaults\n        mode http\n        timeout connect 5000ms\n        timeout client 50000ms\n        timeout server 50000ms\n\n    listen http-in\n        bind *:80\n        server server1 127.0.0.1:8775 maxconn 32\n```\n\n```yaml\napiVersion: v1\nkind: Pod\nmetadata:\n  name: vader-service\nspec:\n  containers:\n  - name: millennium-falcon\n    image: ibmcase/millennium-falcon:1\n  - name: haproxy-ambassador\n    image: haproxy:1.7\n    ports:\n    - containerPort: 80\n    volumeMounts:\n    - name: config-volume\n      mountPath: /usr/local/etc/haproxy\n  volumes:\n  - name: config-volume\n    configMap:\n      name: vader-service-ambassador-config\n``` \n\n```yaml\napiVersion: v1\nkind: Pod\nmetadata:\n  name: busybox\nspec:\n  containers:\n  - name: myapp-container\n    image: radial/busyboxplus:curl\n    command: ['sh', '-c', 'while true; do sleep 3600; done']\n```\n\n```bash\nkubectl exec busybox -- curl $(kubectl get pod vader-service -o=jsonpath='{.status.podIP}'):80\n```\n","fileAbsolutePath":"/workspace/ibm-gsi-cloudnative-journey/src/pages/developer-foundation/activities/labs/lab3/solution.mdx"}}},"staticQueryHashes":["1054721580","1054721580","1364590287","2102389209","2102389209","2456312558","2746626797","2746626797","3018647132","3018647132","3037994772","3037994772","3273249464","768070550"]}