(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{"013z":function(e,a,t){"use strict";var n=t("q1tI"),i=t.n(n),s=t("NmYn"),c=t.n(s),o=t("Wbzz"),r=t("Xrax"),l=t("k4MR"),b=t("TSYQ"),u=t.n(b),d=t("QH2O"),p=t.n(d),g=t("qKvR"),A=function(e){var a,t=e.title,n=e.theme,i=e.tabs,s=void 0===i?[]:i;return Object(g.b)("div",{className:u()(p.a.pageHeader,(a={},a[p.a.withTabs]=s.length,a[p.a.darkMode]="dark"===n,a))},Object(g.b)("div",{className:"bx--grid"},Object(g.b)("div",{className:"bx--row"},Object(g.b)("div",{className:"bx--col-lg-12"},Object(g.b)("h1",{id:"page-title",className:p.a.text},t)))))},m=t("BAC9"),h=function(e){var a=e.relativePagePath,t=e.repository,n=Object(o.useStaticQuery)("1364590287").site.siteMetadata.repository,i=t||n,s=i.baseUrl,c=i.subDirectory,r=s+"/edit/"+i.branch+c+"/src/pages"+a;return s?Object(g.b)("div",{className:"bx--row "+m.row},Object(g.b)("div",{className:"bx--col"},Object(g.b)("a",{className:m.link,href:r},"Edit this page on GitHub"))):null},f=t("FCXl"),y=t("dI71"),j=t("I8xM"),O=function(e){function a(){return e.apply(this,arguments)||this}return Object(y.a)(a,e),a.prototype.render=function(){var e=this.props,a=e.title,t=e.tabs,n=e.slug,i=n.split("/").filter(Boolean).slice(-1)[0],s=t.map((function(e){var a,t=c()(e,{lower:!0,strict:!0}),s=t===i,r=new RegExp(i+"/?(#.*)?$"),l=n.replace(r,t);return Object(g.b)("li",{key:e,className:u()((a={},a[j.selectedItem]=s,a),j.listItem)},Object(g.b)(o.Link,{className:j.link,to:""+l},e))}));return Object(g.b)("div",{className:j.tabsContainer},Object(g.b)("div",{className:"bx--grid"},Object(g.b)("div",{className:"bx--row"},Object(g.b)("div",{className:"bx--col-lg-12 bx--col-no-gutter"},Object(g.b)("nav",{"aria-label":a},Object(g.b)("ul",{className:j.list},s))))))},a}(i.a.Component),w=t("MjG9"),v=t("CzIb"),k=t("Asxa"),q=t("OIbQ"),N=t.n(q),S=function(e){var a=e.date,t=new Date(a);return a?Object(g.b)(k.c,{className:N.a.row},Object(g.b)(k.a,null,Object(g.b)("div",{className:N.a.text},"Page last updated: ",t.toLocaleDateString("en-GB",{day:"2-digit",year:"numeric",month:"long"})))):null};a.a=function(e){var a=e.pageContext,t=e.children,n=e.location,i=e.Title,s=a.frontmatter,b=void 0===s?{}:s,u=a.relativePagePath,d=a.titleType,p=b.tabs,m=b.title,y=b.theme,j=b.description,k=b.keywords,q=b.date,N=Object(v.a)().interiorTheme,C=Object(o.useStaticQuery)("2456312558").site.pathPrefix,E=C?n.pathname.replace(C,""):n.pathname,x=p?E.split("/").filter(Boolean).slice(-1)[0]||c()(p[0],{lower:!0}):"",I=y||N;return Object(g.b)(l.a,{tabs:p,homepage:!1,theme:I,pageTitle:m,pageDescription:j,pageKeywords:k,titleType:d},Object(g.b)(A,{title:i?Object(g.b)(i,null):m,label:"label",tabs:p,theme:I}),p&&Object(g.b)(O,{title:m,slug:E,tabs:p,currentTab:x}),Object(g.b)(w.a,{padded:!0},t,Object(g.b)(h,{relativePagePath:u}),Object(g.b)(S,{date:q})),Object(g.b)(f.a,{pageContext:a,location:n,slug:E,tabs:p,currentTab:x}),Object(g.b)(r.a,null))}},"5eiD":function(e,a,t){"use strict";t.r(a),t.d(a,"_frontmatter",(function(){return r})),t.d(a,"default",(function(){return d}));var n,i=t("wx14"),s=t("zLVn"),c=(t("q1tI"),t("7ljp")),o=t("013z"),r=(t("T0C+"),t("qKvR"),{}),l=(n="PageDescription",function(e){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),Object(c.b)("div",e)}),b={_frontmatter:r},u=o.a;function d(e){var a=e.components,t=Object(s.a)(e,["components"]);return Object(c.b)(u,Object(i.a)({},b,t,{components:a,mdxType:"MDXLayout"}),Object(c.b)(l,{mdxType:"PageDescription"},Object(c.b)("p",null,"DevSecOps with Aquasec CSP")),Object(c.b)("h2",null,"Guide"),Object(c.b)("p",null,"Aqua CSP provides full lifecycle security for your Cloud-Native applications (containers, orchestrators, cloud VMs, and serverless functions) at a very granular level. Aqua includes preventive controls to secure the development pipeline; protects applications in runtime; detects and blocks attacks; and provides visibility and auditing for security risk management and compliance."),Object(c.b)("p",null,"Aqua CSP:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"Integrates with your existing workflows for building, shipping, running, and securing your cloud workloads"),Object(c.b)("li",{parentName:"ul"},"Works with the leading orchestrators and cloud provider platforms"),Object(c.b)("li",{parentName:"ul"},"Secures environments consisting of servers running Linux and Windows, as well as CaaS  and FaaS cloud services"),Object(c.b)("li",{parentName:"ul"},"Provides you with full audit logs of security-related events that have occurred on your hosts or in your containers and serverless functions")),Object(c.b)("h2",null,"Version"),Object(c.b)("p",null,"On IBM Managed Openshift 4.3 , the installation of Aqua CSP 4.6 was carried out"),Object(c.b)("h2",null,"Architecture :"),Object(c.b)("p",null," ",Object(c.b)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"878px"}},"\n      ",Object(c.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"57.98611111111111%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACFUlEQVQoz22Ta04VQRCFWYRrcQEuw825BON/EmOiBAQCASEawRi4cB9z78z0+92fmYdAjJ1UqifpOXVO1ak9plPnzH6feHNleLf2QIaaoSRqSWN+vmegzDGD1Mpe20s6oao3ljubeH0ueHXY8fa6x8fIvYvkUqAW6hxDkVoyUhn6vkcog/NxBN1brjY027ZqbYkp0oeAcAafIgsXeb+x+PLMoOY4sasZbwxea2qMpDADTg+Ht0+qIZjxhzupOVhs2Fg3Ss05UgbJFaxz/NCBK+m5EI6lTxPgdtejjauD9BgDJTqKVyOAc5rOB/JYrEC0U7tzREjBwbrn48OO/ceO79I9M3w5lKbb0WjJxidWSowF7o3nYGc4agQnrSFEj1SSy85wtpWc95aFmxn2UtMLXYfGkhO/jOfDouW4dxy2lkchMd6zlopGWxoXSNHinOVrI/m87Pi0FvxUfgLshKSXqmrr8UayMpqLnWLrI62zqBDYhcSlcFxLP/at5Ii1itOt5Gjdc9BIbrX/v+Slz5zsBN+E5WawQ060PnDTaX4Lza1yhFKopYxs19azsgER8wR41BpOO1uPO4vMlegdQbWk4Ce/jQOZY/DgnIdBnbWaw43gS6O4+Sv5ZtXQWl8fhiohUFOgkQIdwjjZcStqJniLUXI29bQtNiZciGM2aWZYBhOOVuSJzUJZutn59UU/6j/f/55h9f4ApTadqY6GSbsAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(c.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"Aqua CSP Architecture ",title:"Aqua CSP Ar chitecture",src:"/ibm-gsi-cloudnative-journey/static/384729f5b32737cf5b7f155b863f1697/33b5e/Aqua-CSP-Architecture.png",srcSet:["/ibm-gsi-cloudnative-journey/static/384729f5b32737cf5b7f155b863f1697/7fc1e/Aqua-CSP-Architecture.png 288w","/ibm-gsi-cloudnative-journey/static/384729f5b32737cf5b7f155b863f1697/a5df1/Aqua-CSP-Architecture.png 576w","/ibm-gsi-cloudnative-journey/static/384729f5b32737cf5b7f155b863f1697/33b5e/Aqua-CSP-Architecture.png 878w"],sizes:"(max-width: 878px) 100vw, 878px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    ")),Object(c.b)("h2",null,"Key Features :"),Object(c.b)("p",null," Aqua integrates within your development workflows (build, ship, and run phases) to provide full lifecycle security for your cloud workloads, running across VMs, container platforms, and serverless functions."),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"Container Runtime Protection for protecting containers at runtime against malicious and unauthorized activities"),Object(c.b)("li",{parentName:"ul"},"Image Assurance for assessing container images against vulnerabilities, malware, secrets, and security best practices"),Object(c.b)("li",{parentName:"ul"},"Host Assurance for assessing VMs against vulnerabilities, malware, and security best practices (e.g., CIS benchmarks)"),Object(c.b)("li",{parentName:"ul"},"Host Runtime Protection for protecting your VMs against malicious and unauthorized activities"),Object(c.b)("li",{parentName:"ul"},"Function Assurance and Runtime Protection for serverless functions"),Object(c.b)("li",{parentName:"ul"},"Network Micro-Segmentation using automated discovery and firewall rules for cloud workloads"),Object(c.b)("li",{parentName:"ul"},"Monitor host logins, both successful and failed"),Object(c.b)("li",{parentName:"ul"},"Vulnerability Shield™ (vShield), a virtual patch for vulnerabilities using a runtime policy that prevents vulnerability exploitation")),Object(c.b)("h2",null,"Installation on IBM Cloud Managed Openshift v4.3 :"),Object(c.b)("p",null,"The Aqua Server components ( Server, DB Gateway ) are deployed as Pods and Services, while the Aqua Enforcer is deployed as a DaemonSet."),Object(c.b)("h3",null,"Installation Guide for AquaSec CSP on IBM Managed Openshift Cluster 4.3"),Object(c.b)("p",null,"Aqua CSP is installed on IBM Managed Openshift Cluster 4.3 leveraging the steps detailed out below"),Object(c.b)("p",null,"Make sure you have the following available:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"Your Aqua credentials: Username and password"),Object(c.b)("li",{parentName:"ul"},"Your Aqua CSP License Token")),Object(c.b)("h4",null,"1. Login into Openshift"),Object(c.b)("p",null,"Login in as an OpenShift with your token so you can run the oc adm commands:"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc login --token=<token> -server=https://c104-e.us-east.containers.cloud.ibm.com:31814\n")),Object(c.b)("h4",null,"2. Create Aqua Project"),Object(c.b)("p",null,"The commands below will create a new OpenShift project (aqua) for the Aqua components"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc new-project aqua\n")),Object(c.b)("h4",null,"3. Create a Service Account"),Object(c.b)("p",null,"Create the service account “aqua-sa” which will be used for assigning privileges to the aqua project"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc create serviceaccount aqua-sa -n aqua serviceaccount/aqua-sa created\n")),Object(c.b)("h4",null,"4. Add cluster role and scc to account"),Object(c.b)("p",null,"Add cluster role for the “aqua-sa” service account"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc adm policy add-cluster-role-to-user cluster-reader system:serviceaccount:aqua:aqua-sa\n")),Object(c.b)("p",null,"Add security context constraints (scc) for the “aqua-sa” service account"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc adm policy add-scc-to-user privileged system:serviceaccount:aqua:aqua-sa\n")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc adm policy add-scc-to-user hostaccess system:serviceaccount:aqua:aqua-sa\n")),Object(c.b)("h4",null,"5.\tCreate Aqua registry secret"),Object(c.b)("p",null,"Set up OpenShift secrets called “aqua-registry”"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc create secret docker-registry aqua-registry --docker-server=registry.aquasec.com –docker-username=<AQUA_USERNAME> --docker-password=<AQUA_PASSWORD> --dockeremail=no@email.com -n aqua\n")),Object(c.b)("p",null,"Replace ",Object(c.b)("inlineCode",{parentName:"p"},"<AQUA_USERNAME>")," and ",Object(c.b)("inlineCode",{parentName:"p"},"<AQUA_PASSWORD>")," with the credentials\n#you have received from Aqua Security."),Object(c.b)("h4",null,"6. Add the “aqua-registry” secret to the “aqua-sa” service account"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc secrets add aqua-sa aqua-registry --for=pull -n aqua\n")),Object(c.b)("h4",null,"7.\tCreate the database password secret"),Object(c.b)("p",null,"Create the database password secret.\nReplace <DB_PASSWORD> with the password of your choice.\nThis needs to be done for both managed or internal DBs.\nSet up OpenShift secret called  “aqua-db”."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc create secret generic aqua-db –-from-literal=password=<dbpasDB_PASSWORDsword> -n aqua\n")),Object(c.b)("h4",null,"8.\tCreate Cluster Role and Role Bindings"),Object(c.b)("p",null,"To search and scan images from an OpenShift integrated registry,deploy these manifest files"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc create -f cluster-role.yaml\n")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc create -f cluster-role-binding.yaml\n")),Object(c.b)("h4",null,"9.\tDeploy CSP component : DB"),Object(c.b)("p",null,"To deploy an internal DB (not recommended for production usage)"),Object(c.b)("p",null,"Create persistent storage for the DB"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc create -f aqua-db-pvc.yaml\n")),Object(c.b)("p",null,"Check that PVC is created successfully by running"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"}," oc get pvc\n")),Object(c.b)("p",null,"Now that PVC is created successfully , go ahead with the db deployment"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc create -f db-deployment-vis.yaml\n")),Object(c.b)("p",null,"Check the deployment is successful by running"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc get pods\n")),Object(c.b)("p",null,"Create a service for the DB"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc create -f db-service.yaml\n")),Object(c.b)("p",null,"Check service is created successfully"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc get svc\n")),Object(c.b)("h4",null,"10.\tDeploy the Aqua Server"),Object(c.b)("p",null,"Create persistent storage for the Server"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc create -f aqua-web-pvc.yaml\n")),Object(c.b)("p",null,"Check that PVC is craeted successfully"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc get pvc\n")),Object(c.b)("p",null,"Create Server Deployment"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc create -f server-deployment.yaml\n")),Object(c.b)("p",null,"Create a service for the Server"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc create -f server-service.yaml\n")),Object(c.b)("p",null,"Check service is created successfully"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc get svc\n")),Object(c.b)("p",null,"Next create a route for the Server"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc create -f server-route.yaml\n")),Object(c.b)("h4",null,"11.\tDeploy the Aqua Gateway"),Object(c.b)("p",null,"Create the Gateway Deployment"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc create -f gatewaydeployment.yaml\n")),Object(c.b)("p",null,"Create the Gateway Service"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc create -f gatewayservice.yaml\n")),Object(c.b)("h4",null,"12.\tCheck the deployment"),Object(c.b)("p",null,"Run the below command to check the status of all deployments"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc status\n")),Object(c.b)("p",null,"Example Output"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"Smiths-MBP-d81f:4. aqua gateway smith$ oc status\n\nIn project aqua on server https://c104-e.useast.containers.cloud.ibm.com:31814\n\nsvc/aqua-db - 172.21.109.50:5432\n  deployment/aqua-db deploys registry.aquasec.com/database:4.6     deployment #1 running for about an hour - 1 pod\n\nsvc/aqua-gateway - 172.21.215.125 ports 8443, 3622\n  deployment/aqua-gateway deploys registry.aquasec.com/gateway:4.6\n    deployment #1 running for 57 seconds - 1 pod\n\nhttp://aqua-web-aqua.gsi-learning-ocp437ec5d722a0ab3f463fdc90eeb94dbc70-0000.us-\neast.containers.appdomain.cloud to pod port 8080 (svc/aqua-web)   deployment/aqua-web deploys registry.aquasec.com/console:4.6     deployment #1 running for 32 minutes - 1 pod\n")),Object(c.b)("h4",null,"13.\tLogin into Aqua CSP console"),Object(c.b)("p",null,"You need to point your web browser to the IP address or DNS name of the Aqua Server."),Object(c.b)("p",null,"Run the command below to get the IP address or DNS name of the Aqua Server."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc get route/aqua-web -n aqua\n")),Object(c.b)("p",null,"The Aqua Server IP address or DNS name will appear as shown under HOST/PORT, as seen in this example:"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"NAME       HOST/PORT\nPATH      SERVICES   PORT      TERMINATION   WILDCARD\naqua-web   aqua-web-aqua.gsi-learning-ocp437ec5d722a0ab3f463fdc90eeb94dbc70-0000.us-\neast.containers.appdomain.cloud             aqua-web   8080                    None\n")),Object(c.b)("p",null,"Login to this address or DNS name, as shown in this example (port number is not required):"),Object(c.b)("p",null," ",Object(c.b)("a",{parentName:"p",href:"http://aqua-web-aqua.gsilearning-ocp43-7ec5d722a0ab3f463fdc90eeb94dbc70-0000.useast.containers.appdomain.cloud"},"http://aqua-web-aqua.gsilearning-ocp43-7ec5d722a0ab3f463fdc90eeb94dbc70-0000.useast.containers.appdomain.cloud")),Object(c.b)("p",null,"You should see the screen shown below. When you access the Aqua Server for the first time, you must enter and confirm the password for the administrator username."),Object(c.b)("p",null," ",Object(c.b)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"372px"}},"\n      ",Object(c.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"140.9722222222222%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,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')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(c.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"Aqua CSP Login",title:"Aqua CSP Login",src:"/ibm-gsi-cloudnative-journey/static/8ced6e975d26de60c4c26e122962a698/ba08e/Aqua-Login-Creation.png",srcSet:["/ibm-gsi-cloudnative-journey/static/8ced6e975d26de60c4c26e122962a698/7fc1e/Aqua-Login-Creation.png 288w","/ibm-gsi-cloudnative-journey/static/8ced6e975d26de60c4c26e122962a698/ba08e/Aqua-Login-Creation.png 372w"],sizes:"(max-width: 372px) 100vw, 372px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    ")),Object(c.b)("p",null," Apply license information which you would have received from the link ",Object(c.b)("a",{parentName:"p",href:"https://success.aquasec.com/#/licenses"},"https://success.aquasec.com/#/licenses")," and click  Accept"),Object(c.b)("p",null,"  ",Object(c.b)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"372px"}},"\n      ",Object(c.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"144.79166666666666%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,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')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(c.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"Aqua CSP License ",title:"Aqua CSP License",src:"/ibm-gsi-cloudnative-journey/static/726aa14df492432fd0725c17b925c71f/ba08e/Aqua-License.png",srcSet:["/ibm-gsi-cloudnative-journey/static/726aa14df492432fd0725c17b925c71f/7fc1e/Aqua-License.png 288w","/ibm-gsi-cloudnative-journey/static/726aa14df492432fd0725c17b925c71f/ba08e/Aqua-License.png 372w"],sizes:"(max-width: 372px) 100vw, 372px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    ")),Object(c.b)("p",null,"You are now logged in as administrator. The Aqua Dashboard will be displayed similarly to the screenshot below:"),Object(c.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"980px"}},"\n      ",Object(c.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"53.81944444444444%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABrUlEQVQoz3WSS28TMRSF82tAXaDs2KAuCgvUFQKBKlVizYKfiygpRRDSJBOP5z0ev+2DfGdC26Qd6ciea/u79x579u1qgcXNH2Q7jp/LDD9WHIu/bNRyh+sVw/Uqx69bju+/M1wtGW4zjqKsUVQNcs7B1itUZYGm6zGbn73H24svYDmHtRZABGIAYoSzFjF4micF70lpn7UOzge0g0Jdt1DGwvuA2fz1JwI2bUcbhRigjaEDSmkIrVMKhBAhB0FxYwyEUogpEQCjFcXS32z+5gLnl18hlaZFn6oIgWS0Qc1y6KqCHlq0TQHrPJxz1DKvGpRtj4JzSCkpwRFwnzXESHBqN4TRimndubF1ZR3E1GqKEfDl+edjYIw0KiHQlRX6qkZX1WiLEkPXT+jjj4DPXr17ssLk13gBd0rt+smSQxHw+QRUB8A0SqkQfHhQwT4uhHiw9z9w7+EhMN1quoBUTS8V+kHSoeSrS0/HB2ilILqWnk+KE/DF2ccjYBwn6KTCuqiw3e6w2WTI8wLDICGNxaassc0Y1ustGOPokrcJeHL64YkK73x5bI57bd7XP2H0McJ/4F8SAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(c.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"Aqua CSP Dashboard ",title:"Aqua CSP Dashboard",src:"/ibm-gsi-cloudnative-journey/static/4a21317b130899acc60b4c15a2aebfff/26e05/Aqua-Dashboard.png",srcSet:["/ibm-gsi-cloudnative-journey/static/4a21317b130899acc60b4c15a2aebfff/7fc1e/Aqua-Dashboard.png 288w","/ibm-gsi-cloudnative-journey/static/4a21317b130899acc60b4c15a2aebfff/a5df1/Aqua-Dashboard.png 576w","/ibm-gsi-cloudnative-journey/static/4a21317b130899acc60b4c15a2aebfff/26e05/Aqua-Dashboard.png 980w"],sizes:"(max-width: 980px) 100vw, 980px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(c.b)("p",null,"In the Aqua UI: Navigate to System > Aqua Gateways. You should see that the Aqua Gateway is connected (green)."),Object(c.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"980px"}},"\n      ",Object(c.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"20.13888888888889%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAjklEQVQY041OQQ7DMAjL/5+6turaJE3BEG9hWrXDJu1gYQzYpGleOE0zj6NdEFWqghr1P4iCa21MYSBKAwiAZkZ3/4r+Q/+cp1OU9WhUc5o7Rw8YzXvwkezeozbR4Aq7dJgHH7dmziQw3krjKuAJ430v3HKJpT1XbrnSe4/Qddvj6P3EMDwBLrm8nngaPgB+MTm0nsE+ZwAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(c.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"Aqua CSP Gateway ",title:"Aqua CSP Gateway",src:"/ibm-gsi-cloudnative-journey/static/ecaad2bd8794e3dbebff85acc859aaaa/26e05/Aqua-Gateway.png",srcSet:["/ibm-gsi-cloudnative-journey/static/ecaad2bd8794e3dbebff85acc859aaaa/7fc1e/Aqua-Gateway.png 288w","/ibm-gsi-cloudnative-journey/static/ecaad2bd8794e3dbebff85acc859aaaa/a5df1/Aqua-Gateway.png 576w","/ibm-gsi-cloudnative-journey/static/ecaad2bd8794e3dbebff85acc859aaaa/26e05/Aqua-Gateway.png 980w"],sizes:"(max-width: 980px) 100vw, 980px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(c.b)("h4",null,"14.\tInstall the Enforcers"),Object(c.b)("p",null,"By default, the Aqua Enforcer runs as a privileged container.\nDeploy Aqua Enforcers across your OpenShift cluster by using a Kubernetes DaemonSet, which automatically deploys a single Aqua Enforcer container on each node in your cluster."),Object(c.b)("p",null,"Enforcer group is a set of zero or more Aqua Enforcers with the same configuration."),Object(c.b)("p",null,"Click on Enforcers – click on “Add Enforcer Group”"),Object(c.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"704px"}},"\n      ",Object(c.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"38.888888888888886%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABQklEQVQoz3VSSW4cMQzs9/riF+SBRg5+gA+xESAJZunRTGvjWgY5i3MxAbaKFElVq7Ss64rT6QRVBTOnBw4XkYxj/T8mZkAFb6Xi+ec7nl5+4cfrb3ycG5bLtqGUgtY73D0ba63p0RwWA7Ztw5wTDsA8vg5Sw24IdoOxnwIywxJF99PdDGaWjRGbaTYGHmNknfu15jtb1BzEClaDmGMSo/aRORLNOPIstxq1zEtix2TBIH7sLYMNx1KxdUJnxfHS8GdfUOrA8dywWy9opFi3jnOnxKc6sA1OfCgV/w4FdSo6KRZTw5kElRXxJ8oT1gvMcWUnCr0xDAaB5cZGzaBqeaexBssFbijE+NsmhjqcO7Tur2IQ5f2F9TFQW0s851f+rkGYhCih7BBNluEiBKOGEPL+XK7DOQdGPbNAHnm6ieXJ+BO5dHECvfj3DAAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(c.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"Aqua CSO Add Enforcer ",title:"Aqua Add Enforcer Group",src:"/ibm-gsi-cloudnative-journey/static/f941bd8fd1815ab10dd7ab73e37bb2a5/beb41/Aqua-Add-Enforcer-Group.png",srcSet:["/ibm-gsi-cloudnative-journey/static/f941bd8fd1815ab10dd7ab73e37bb2a5/7fc1e/Aqua-Add-Enforcer-Group.png 288w","/ibm-gsi-cloudnative-journey/static/f941bd8fd1815ab10dd7ab73e37bb2a5/a5df1/Aqua-Add-Enforcer-Group.png 576w","/ibm-gsi-cloudnative-journey/static/f941bd8fd1815ab10dd7ab73e37bb2a5/beb41/Aqua-Add-Enforcer-Group.png 704w"],sizes:"(max-width: 704px) 100vw, 704px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(c.b)("p",null,"On the Aqua UI  go to Enforcers > Create new group screen that appears, fill in the settings as shown"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"Orchestrator: OpenShift"),Object(c.b)("li",{parentName:"ul"},"Service Account: aqua-sa"),Object(c.b)("li",{parentName:"ul"},"Project: aqua")),Object(c.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"980px"}},"\n      ",Object(c.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"51.73611111111111%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA8ElEQVQoz6XSa0vDMBTG8XwZxZcqeEHZpF7Ym9qh4gVlMC/4hf0Ow3a1nWC3XnLOXxYVxNVRXeAhEJIf5yQxu36Po/NHBnFCXhTkeY6IzIn+iADKYFzyNJpg1g+v2OveEUZDRAVRxYrMpPqcVXUm0zNfw2x0rvFO7olfUqbLdl51Ndh31KpiNjs3eKcPPIcR+ksFf4lZ3b+gFfRJR6+uZFkQNWsHl+4Oo2GM6gdWi0pT0Duj5fccWJYl1ko90BRc2enSDm4dWBSl+woLtby05TswjGLesoxsPMFa+39wefuYdtAnSVIHVVVVv1m00YO9A3Tr7MoyPaBnAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(c.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"Aqua CSO Add Enforcer 1",title:"Aqua Add Enforcer Group 2",src:"/ibm-gsi-cloudnative-journey/static/72bb2d00134f966bbc4f13244b68705a/26e05/Aqua-Add-Enforcer-Group1.png",srcSet:["/ibm-gsi-cloudnative-journey/static/72bb2d00134f966bbc4f13244b68705a/7fc1e/Aqua-Add-Enforcer-Group1.png 288w","/ibm-gsi-cloudnative-journey/static/72bb2d00134f966bbc4f13244b68705a/a5df1/Aqua-Add-Enforcer-Group1.png 576w","/ibm-gsi-cloudnative-journey/static/72bb2d00134f966bbc4f13244b68705a/26e05/Aqua-Add-Enforcer-Group1.png 980w"],sizes:"(max-width: 980px) 100vw, 980px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(c.b)("p",null,"Next fill up the security settings"),Object(c.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"902px"}},"\n      ",Object(c.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"100.34722222222223%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAACKElEQVQ4y52U204TURSG+yQqeCBRAxIasARaawQLSIEaTwhIB7wx0ZY7Y0LrS/gevoOv4J3coCnW0pk9h3ame06f6VYwvTEdVrIyNztf/vX/a01qenmT5Rd73JzboPzuECMCXfrYTgfdEFiWTRRFxHFMFMfq+79Oza7sML+mcW1mBa1SQ3o9bGESu13OKh4CdA7MLG+RW9e4fvcRWrVGICVHbZPPx22OOvIiwG2ya2VG00to1Tqh7/O1ZfHp2ylfmhaEEXECaGq+WCZfes3YbBGtcogfBPS6HYh8pS7869/QwOmHm+RL+9zIrCoPXa9HW1gIx6XnB8lHni68JLumMZYpKmAYhjiOg5TyPN1EwNz6Hv2kL00usn9Qx+m4CLuD1/PVuIkVTj14xkT+yZ9QDuoYtoNp2QRhiJSD0GEqlVnZpp/06FSBrUod4YeYpknbEAjTUhYkAvY9nCvuqsUuV+u0hEXjZ5PvjRMs20k+8szCU3KrO1yZuM/Wm/c4MsC2HbpdN3EgCpheeE6/RyYX2a7UaHuS09O2uuWzR0kqNZ57zO1sSYVSrn7ECyN0XUc3DDzPSz7yGXAkXVAeOl5PKTRNK7G6AYUj6pZrKoiTZgth2YnVDSi8ml5Sa2OoUGy6rntB4L1/Hu5Wa/wSJsc/GjSarYEdHBrYh92a31DAV9U6licxhIkuTPXnSX56+RJ3sutcHs+z+/YDrpQYhqGupb+PQRAopcP2bxqMhNc/v0mjAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(c.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"Aqua CSO Add Enforcer 2",title:"Aqua Add Enforcer Group 2",src:"/ibm-gsi-cloudnative-journey/static/3a67eb8fc59fb9dbbb130e0b20de5278/7ccc2/Aqua-Add-Enforcer-Group2.png",srcSet:["/ibm-gsi-cloudnative-journey/static/3a67eb8fc59fb9dbbb130e0b20de5278/7fc1e/Aqua-Add-Enforcer-Group2.png 288w","/ibm-gsi-cloudnative-journey/static/3a67eb8fc59fb9dbbb130e0b20de5278/a5df1/Aqua-Add-Enforcer-Group2.png 576w","/ibm-gsi-cloudnative-journey/static/3a67eb8fc59fb9dbbb130e0b20de5278/7ccc2/Aqua-Add-Enforcer-Group2.png 902w"],sizes:"(max-width: 902px) 100vw, 902px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(c.b)("p",null,"Click Create Group. You will see a pop-up window titled “Install Command”,"),Object(c.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"624px"}},"\n      ",Object(c.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"131.94444444444443%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAABYlAAAWJQFJUiTwAAACzElEQVRIx52VyVLbQBRF/Z9ZZZvKJ+Q3sssyySbBhFW2qcoAhAQI2MijbMkaLMkaLFlzt26qn40xAgOmq251u9Q6um/odoMxBqG8KMA4B2McnHNUVfVkif1iNJtNNIqigKIZMC2bpOomwXcZt4DCVRinsL05LDeA6fgwHQ+G7dK8XHvQrBlJX82a7WIyncENY4RpfgMUlmVtisPTFqShSuqONHTkCXpjjdbSUKHf4tnVQEFnqGKimFDHBgzNRhTEBNxr7qEh8pfmJaI4RcEqsAoPqgKQ8gq/Qw+/5i4Ogxm+zabwK4aD/f0lsD62Jr9a5sotMrzqHuGl9BOvu8d40f6Ok8TH1y8HaIiEivwpho2xbsEJIiQFR5yViHO2Vcl6XWKRFvUcmjha5XA2XxBwkZUPKs5u4NEmkFcVdNtFqyujK6vQLXcN3O7wNjysO9QsF/2xjnmc0QtrFw+EvFZW1hxyDj9KcNEZQhoocPzoVsjPAopCnLV7sL1wCco3YI9B60BxdsMkR7s/ps6fBYvdwr4D5BzBIkV3NCH1Ff1uRZ+Tw3/SAANFp4objk+bNp1eg+98oA4s2XLT+VUfJxcSuvKEPkDNXXNzr9ttwFZvhFZPxlA1YPshbRJtJPIr5p0cigdXgzEOTy+p2jpdVy5U06FZMW1E6Q5AcS6FM5FDy51TuGlZIWdYimOHkEuGtOCQJyblryOrOJf6GE5MTN2AWkm43CzSI8CS3AhguyfTiflzIVH7BIsM7nwBL0x2yOEKOFRNggmX4hobaVPaKJ5dV/zJVU4KRiGK1hEh3teDdYebc5AUdJOv/vWEQ07O/l526AqrH79tirISWV4C5fLW3xdA4S5joHw5wQJ+lCJlWKqskJa4V0lZgXFAiUu8lX18tjN8+LSHhmHNMJ15sFwfthfAdgNMHe9RGY4H3/VxPLHx8kcPb85UvHv/Ef8BR/O4GlSqyUkAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(c.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"Aqua CSO Add Enforcer YAML",title:"Aqua Add Enforcer Group YAML",src:"/ibm-gsi-cloudnative-journey/static/df519f2b7f5fccb2568f8dae2a8326f8/655e2/Aqua-Add-Enforcer-Group-YAML.png",srcSet:["/ibm-gsi-cloudnative-journey/static/df519f2b7f5fccb2568f8dae2a8326f8/7fc1e/Aqua-Add-Enforcer-Group-YAML.png 288w","/ibm-gsi-cloudnative-journey/static/df519f2b7f5fccb2568f8dae2a8326f8/a5df1/Aqua-Add-Enforcer-Group-YAML.png 576w","/ibm-gsi-cloudnative-journey/static/df519f2b7f5fccb2568f8dae2a8326f8/655e2/Aqua-Add-Enforcer-Group-YAML.png 624w"],sizes:"(max-width: 624px) 100vw, 624px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(c.b)("p",null,"And then click on Install Command"),Object(c.b)("p",null,"Scroll to the bottom of the screen, and click Copy to Clipboard to copy the DaemonSet YAML text to the clipboard. Save the text as the file aqua-enforcer-new-43.yaml on your host and Click Close."),Object(c.b)("h4",null,"15. Deploy the Enforcers"),Object(c.b)("p",null,"A byproduct of the Enforcer group creation is the DaemonSet required for OpenShift. Aqua does not automatically deploy the Enforcer on the host; you do this with the oc create command. You can run this command to deploy Enforcers on one or more hosts."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc create -f aqua-enforcer-new-43.yaml\n")),Object(c.b)("p",null,"Check that the daemon set is created successfully."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"oc get ds\n")),Object(c.b)("p",null,"Now that we have daemonsets running  ,The enforcers are now available :"),Object(c.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"624px"}},"\n      ",Object(c.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"131.94444444444443%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAABYlAAAWJQFJUiTwAAACzElEQVRIx52VyVLbQBRF/Z9ZZZvKJ+Q3sssyySbBhFW2qcoAhAQI2MijbMkaLMkaLFlzt26qn40xAgOmq251u9Q6um/odoMxBqG8KMA4B2McnHNUVfVkif1iNJtNNIqigKIZMC2bpOomwXcZt4DCVRinsL05LDeA6fgwHQ+G7dK8XHvQrBlJX82a7WIyncENY4RpfgMUlmVtisPTFqShSuqONHTkCXpjjdbSUKHf4tnVQEFnqGKimFDHBgzNRhTEBNxr7qEh8pfmJaI4RcEqsAoPqgKQ8gq/Qw+/5i4Ogxm+zabwK4aD/f0lsD62Jr9a5sotMrzqHuGl9BOvu8d40f6Ok8TH1y8HaIiEivwpho2xbsEJIiQFR5yViHO2Vcl6XWKRFvUcmjha5XA2XxBwkZUPKs5u4NEmkFcVdNtFqyujK6vQLXcN3O7wNjysO9QsF/2xjnmc0QtrFw+EvFZW1hxyDj9KcNEZQhoocPzoVsjPAopCnLV7sL1wCco3YI9B60BxdsMkR7s/ps6fBYvdwr4D5BzBIkV3NCH1Ff1uRZ+Tw3/SAANFp4objk+bNp1eg+98oA4s2XLT+VUfJxcSuvKEPkDNXXNzr9ttwFZvhFZPxlA1YPshbRJtJPIr5p0cigdXgzEOTy+p2jpdVy5U06FZMW1E6Q5AcS6FM5FDy51TuGlZIWdYimOHkEuGtOCQJyblryOrOJf6GE5MTN2AWkm43CzSI8CS3AhguyfTiflzIVH7BIsM7nwBL0x2yOEKOFRNggmX4hobaVPaKJ5dV/zJVU4KRiGK1hEh3teDdYebc5AUdJOv/vWEQ07O/l526AqrH79tirISWV4C5fLW3xdA4S5joHw5wQJ+lCJlWKqskJa4V0lZgXFAiUu8lX18tjN8+LSHhmHNMJ15sFwfthfAdgNMHe9RGY4H3/VxPLHx8kcPb85UvHv/Ef8BR/O4GlSqyUkAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(c.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"Aqua CSP  Enforcers Listed ",title:"Aqua CSP  Enforcers Listed",src:"/ibm-gsi-cloudnative-journey/static/df519f2b7f5fccb2568f8dae2a8326f8/655e2/Aqua-Add-Enforcer-Group-YAML.png",srcSet:["/ibm-gsi-cloudnative-journey/static/df519f2b7f5fccb2568f8dae2a8326f8/7fc1e/Aqua-Add-Enforcer-Group-YAML.png 288w","/ibm-gsi-cloudnative-journey/static/df519f2b7f5fccb2568f8dae2a8326f8/a5df1/Aqua-Add-Enforcer-Group-YAML.png 576w","/ibm-gsi-cloudnative-journey/static/df519f2b7f5fccb2568f8dae2a8326f8/655e2/Aqua-Add-Enforcer-Group-YAML.png 624w"],sizes:"(max-width: 624px) 100vw, 624px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(c.b)("h4",null,"16. Check the Aqua CSP Dashboard"),Object(c.b)("p",null,"The dashboard now has data populated based on containers on cluster."),Object(c.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"852px"}},"\n      ",Object(c.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"64.2361111111111%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACVUlEQVQ4y3VSy2oVQRCd/wioiK5EfEVCzCI+MJqoUbJQJJiARDcu/Dl3cXOjJBoMkiAmK6OYO+/Hnb7TM9PTjyNdc+8YAxYcqpuqPnWquhzP8+F6AZI0g+96CKIYYRh2CILWx3GMOAzx63cfURQjjmIkSYogShC4R4j7P5FkOZyF5deYnHuG9d4mtFJopIJUClJK1EKQ/wuFWjQQIzRNg4xXSNIURcHRNBLOzKMVTFy6jfe9TVjjvKREpRTKsoRQCmOTTUtiYYuNTWuNsqzojTP9cBVnri+gt7VDwbquoaSioNEaYZJBFAWUKMEyH0ppGGMw5ByDnNFdVCUaUcEAcG4uvcLZqQcdoa1mzT7inEOVFXRZQjUVpJLQxiArCuwfHGB3dw9RFEFrA9/3Kd+ZXVrDuelF9La+EJEatUiEBacCBKtMazRCYFhy+qh+30VRFBRnjEEIAWdqYQWnJ+exMVJIhMaQ/CLPwZK0Rdr6PEm7oifNGFjCF5i4fBcbn3b+UWjboM/RrTKrWJFa022AzbV3q7A9azg3Fl/i/MwTfPj89QShRlVVdBbaoJSjUdi7ELQBlCebYwoNnFtP3+DK/RV83N7tCG3AQjYS1SBHHoTI0hBS1p1Cu155zuC5LrJBjoRXEFLCmVt+i6vzqx3h8V+2CrWU7XCMAmM5siwjQsaGhMGAkc+HxWixH6/h4p3n2Bi1XNUC2oD2azzDAWPoux5+HB7C8zz8z6jlC7NLOHXtHt6t97C/f4C9b9/hBTF4VYMPh4g9H8FRH6HrEpIwoi7GYzmJP2+pumYNfQosAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(c.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"Aqua CSP Dashboard Populated  ",title:"Aqua CSP Dashboard Populated",src:"/ibm-gsi-cloudnative-journey/static/9e59737c4ebf8d29b33f24e87bd7691b/8658a/Aqua-Dashboard-populated.png",srcSet:["/ibm-gsi-cloudnative-journey/static/9e59737c4ebf8d29b33f24e87bd7691b/7fc1e/Aqua-Dashboard-populated.png 288w","/ibm-gsi-cloudnative-journey/static/9e59737c4ebf8d29b33f24e87bd7691b/a5df1/Aqua-Dashboard-populated.png 576w","/ibm-gsi-cloudnative-journey/static/9e59737c4ebf8d29b33f24e87bd7691b/8658a/Aqua-Dashboard-populated.png 852w"],sizes:"(max-width: 852px) 100vw, 852px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(c.b)("h2",null,"CI/ CD leveraging Jenkins - Jenkins Configuration for AQUA CSP"),Object(c.b)("p",null,"You can use the Aqua Security Scanner plugin for Jenkins to scan images in the build pipeline in order to find vulnerabilities. You can also scan images that have been pushed to a registry.\nThis plugin is installed in Jenkins. Once installed, you include details for scanning the image in the build process. During the build process, the image is scanned by the scanner and, optionally, actions are taken if the scan results are negative. Scanning results can be viewed in Jenkins."),Object(c.b)("p",null,"During the build process, the image is scanned by the scanner and, optionally, actions are taken if the scan results are negative. Scanning results can be viewed in Jenkins."),Object(c.b)("h3",null,"Jenkins Plugin Installation & Configuration"),Object(c.b)("h4",null,"1.\tAdd user with role scanner"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"In the Aqua UI: Navigate to System > Users and Roles."),Object(c.b)("li",{parentName:"ul"},"Click Add Users. Enter details for a new user, with role Scanner.")),Object(c.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"902px"}},"\n      ",Object(c.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"67.0138888888889%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAABe0lEQVQ4y52Si0oCURCG922CMFA3xEskpqlRaihqLlJZUdCzBmWKq9tF7A0iV/dy5vyxZ9W8rAoN/MwwnPmYy5H2jsrwxYvYiZ3jqd2DSQymZYEDIED4aUxzMeNOtGpSonSPaK4BOV3DS7uLsWVhaCxKN10NDROGbcMmgsUYOOcrkkIndexnFARSF2h2emDgMBmDReQWLsnJ2dyVYyvA8OklImdXAthSNZi2Jbp0RmKcJn5RAkh/wIWRHZgvXoI/WcGrqokdWcRmXSyLzXlPYDBdw+5hEYFUFU1VEw+ne9pm3OMwUjR3LQ7iT1Xx3FIx0nWMxmPPhU9FRGCMeXfoHEVOK26HHQ3MecynXwPeOyRXnsBYvgE5o8CfrEJ96wvg988QQ32EkWGA1kCJrwFGCnc4KD4gkr+F9vklkrZti7H4lj167jCcu0Gi8ohowQEORJKILxStk2eH/mQZoayC4HEV3ff+BEgbizaZJGfqCKQVyNk6tI/BDPhf+wWbHq7MoDhUSAAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(c.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"Aqua CSP Add scanner user ",title:"Aqua CSP add scanner user ",src:"/ibm-gsi-cloudnative-journey/static/cafd25f13e292a03e287d7af7731c17d/7ccc2/Aqua-Jenkins-scannerrole-user.png",srcSet:["/ibm-gsi-cloudnative-journey/static/cafd25f13e292a03e287d7af7731c17d/7fc1e/Aqua-Jenkins-scannerrole-user.png 288w","/ibm-gsi-cloudnative-journey/static/cafd25f13e292a03e287d7af7731c17d/a5df1/Aqua-Jenkins-scannerrole-user.png 576w","/ibm-gsi-cloudnative-journey/static/cafd25f13e292a03e287d7af7731c17d/7ccc2/Aqua-Jenkins-scannerrole-user.png 902w"],sizes:"(max-width: 902px) 100vw, 902px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(c.b)("h4",null,"2. Install and configure the Jenkins plugin"),Object(c.b)("p",null,"In Jenkins: Select Manage Jenkins and then select Manage Plugins from the list.\nMake sure that the list of available plugins is up to date."),Object(c.b)("p",null,"Install the Jenkins plugin"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"In Jenkins: Select Manage Jenkins -> Manage Plugins"),Object(c.b)("li",{parentName:"ul"},"Select the Available tab, search for “Aqua Security Scanner”, and select it."),Object(c.b)("li",{parentName:"ul"},"Click  Install without restart. This will install the plugin")),Object(c.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"902px"}},"\n      ",Object(c.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"26.041666666666668%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAy0lEQVQY041PSWrDQBDU/x8kW5bQWS8IvggvigjBzGp5RpNZynQTAjEGu6Dohapeqm7XYlNvUdc12rZF13UcX7FpGozjCOcclFIYhgF936PCA9Y1oOSCd1BKQQgB3nvEGLlXUTPlhJQSb5uPn5gOZ2gpYJSEEAJaa0gpcTUG1hhIpfgqQ7W1TNKRhgcSCXpx2J9mnOZvfBwm7M8ztLX4CQEpRkwXCes8a/Ovj5hz5oMo/zfQ3Dymi4JaHJsp92vgd8jwJTQWH/7efcY7Ux54rDXazIoAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(c.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"Jenkins Add Aqua Plugin",title:"Jenkins Add Aqua Plugin ",src:"/ibm-gsi-cloudnative-journey/static/e43c83c531c19f7f6a85bb9714907687/7ccc2/Aqua-Jenkins-Plugins.png",srcSet:["/ibm-gsi-cloudnative-journey/static/e43c83c531c19f7f6a85bb9714907687/7fc1e/Aqua-Jenkins-Plugins.png 288w","/ibm-gsi-cloudnative-journey/static/e43c83c531c19f7f6a85bb9714907687/a5df1/Aqua-Jenkins-Plugins.png 576w","/ibm-gsi-cloudnative-journey/static/e43c83c531c19f7f6a85bb9714907687/7ccc2/Aqua-Jenkins-Plugins.png 902w"],sizes:"(max-width: 902px) 100vw, 902px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(c.b)("p",null,"Check the plugin is successfully installed"),Object(c.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"902px"}},"\n      ",Object(c.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"5.208333333333334%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAL0lEQVQI143D2wkAIAwDQPff1Bd+lEBTAhGcwINroNzH8Z7LEfECcGZa0neSripfSv9OK+maCw0AAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(c.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"Jenkins Aqua Plugin installed",title:"Jenkins Add Aqua Plugin installed ",src:"/ibm-gsi-cloudnative-journey/static/afc2a61cb00db2b180412f4b3ccb84a9/7ccc2/Aqua-Jenkins-Plugins-installed.png",srcSet:["/ibm-gsi-cloudnative-journey/static/afc2a61cb00db2b180412f4b3ccb84a9/7fc1e/Aqua-Jenkins-Plugins-installed.png 288w","/ibm-gsi-cloudnative-journey/static/afc2a61cb00db2b180412f4b3ccb84a9/a5df1/Aqua-Jenkins-Plugins-installed.png 576w","/ibm-gsi-cloudnative-journey/static/afc2a61cb00db2b180412f4b3ccb84a9/7ccc2/Aqua-Jenkins-Plugins-installed.png 902w"],sizes:"(max-width: 902px) 100vw, 902px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(c.b)("h4",null,"3. Configure the Jenkins plugin"),Object(c.b)("p",null,"In Jenkins:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"Select Manage Jenkins, then select Configure System."),Object(c.b)("li",{parentName:"ul"},"In the Aqua Security section and fill in the following fields:\nthe scanner image, Aqua Server URL, scanner user created in Aqua in the previous step, and the password."),Object(c.b)("li",{parentName:"ul"},"You can also optionally specify the scan timeout (where 0 means unlimited) and include additional docker run options (for example: if you want to run the scanner with —privileged parameters you can add it here)."),Object(c.b)("li",{parentName:"ul"},"Select “Do not verify TLS certificates” if you are working in an environment (such as a development environment) without certificates.")),Object(c.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"902px"}},"\n      ",Object(c.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"36.11111111111111%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAu0lEQVQoz62R6wqDMAyF+/6P6QWc1apt7dX2jESU/RkbY4GPJJSc5iKcDxiGASkl/MNETBl932OaJhhjIKXkD65833cmhPARHyJEzokF27ZF13Xsm6ZhP44j5nlmtm17i5oV5EPCaEOCGUopWGuZdV05X5aFuyQuUYrp3XsP59wN1elNw+4O4jgOaK15PPLENSbxWvgOayz0SnUOgo4RY7yXSnEpBbXW7yinJ3MhnSPTHqhDEvqVWgrowE8shB+/XY89IQAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(c.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"Jenkins Aqua Configuration",title:"Jenkins  Aqua Configurayion ",src:"/ibm-gsi-cloudnative-journey/static/336ff8caf9e57ec5dae1730c1711ec34/7ccc2/Aqua-Jenkins-Configuration.png",srcSet:["/ibm-gsi-cloudnative-journey/static/336ff8caf9e57ec5dae1730c1711ec34/7fc1e/Aqua-Jenkins-Configuration.png 288w","/ibm-gsi-cloudnative-journey/static/336ff8caf9e57ec5dae1730c1711ec34/a5df1/Aqua-Jenkins-Configuration.png 576w","/ibm-gsi-cloudnative-journey/static/336ff8caf9e57ec5dae1730c1711ec34/7ccc2/Aqua-Jenkins-Configuration.png 902w"],sizes:"(max-width: 902px) 100vw, 902px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(c.b)("h4",null,"4. Obtain the Aqua scanner binary Download the scanner image on Jenkins machine"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"docker login registry.aquasec.com -u smith_naik@in.ibm.com -p <your-aqua-password>\n")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"docker pull registry.aquasec.com/scanner:4.6\n")),Object(c.b)("h3",null,"Jenkins Freestyle project - Scan via Aqua CSP"),Object(c.b)("p",null,"You can use the plugin for Jenkins in the build process in Freestyle jobs. You can configure the job to scan images during the build process, or after the build completes and the image is pushed to a registry."),Object(c.b)("p",null,"In the Configure page for a job, click Add Build Step Select “Aqua Security”."),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},"Select the action to be taken when image doesn’t comply with Aqua policy. The option “Perform the action defined in Aqua’s policy” refers to the action specified in the Image Assurance Policy")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},"Select the image to be scanned.")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},"If the image is local (not in a registry), select Local image, and enter the image name. If the image is in a registry, select Hosted image, and enter the URL for the registry and the image name.")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},"Locally hosted images will be scanned with the Default Image Assurance Policy. Images hosted in a registry will be scanned with all Image Assurance Policies that are applicable (according to the scope of the policy)"))),Object(c.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"902px"}},"\n      ",Object(c.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"38.19444444444444%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAy0lEQVQoz52S2w6CMBBE+f8/NF4JBCgFam9AG+uYqU+aaJSH87LbnczsthjHETFGhBAy67p+ZFkWaK3f6gGLd1idQ7rfUZwvFzRNg2EYIKWEMQbW2o8opV5r3sP0AlZ0SACK3f6AqqrQdR36vs+C36DIe00bC6k0UkoojqczGJsNOuTAPM/w3v8E3zrnIccrbhSs6xpt22KaprwfCjrn/uaqzdOhECILkS1ChCYYOwtyd4zLBq+9hRAjlLbPyGVZ5stxH/wWW+E8HT4APZVoZmR56DwAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(c.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"Jenkins Aqua Scan ",title:"Jenkins  Aqua Scan ",src:"/ibm-gsi-cloudnative-journey/static/50bae82286f4be582ada38c9e4718bfa/7ccc2/Aqua-Jenkins-Scan.png",srcSet:["/ibm-gsi-cloudnative-journey/static/50bae82286f4be582ada38c9e4718bfa/7fc1e/Aqua-Jenkins-Scan.png 288w","/ibm-gsi-cloudnative-journey/static/50bae82286f4be582ada38c9e4718bfa/a5df1/Aqua-Jenkins-Scan.png 576w","/ibm-gsi-cloudnative-journey/static/50bae82286f4be582ada38c9e4718bfa/7ccc2/Aqua-Jenkins-Scan.png 902w"],sizes:"(max-width: 902px) 100vw, 902px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(c.b)("p",null,"After you run the build , the console will show output like this:"),Object(c.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"902px"}},"\n      ",Object(c.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"49.30555555555556%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABN0lEQVQoz3WSC2+DMAyE+f//sy3PQIjzhPamc+eJqVukkx1BPp+ddNvmEYIgxoTReQzjiHme0VrD8/nEeZ6q4zwu+Xuv8bjE40R3u0/I5QCXWzfc7ncszkFEkGJCSgk5ZbTSUHNVMW+1aVGCaq2aU11MGbWdCty9xzRN6PsewzBg6AfM04xlXhB8QJIE2QU5ZlQWKFXBBJo6XNa2bQp6PB7aNnNGv3uknJBLhkRRhRBUMUYVc46je71eoAxIdwTSKYGM67qqvPeQINj3/Z2LIOesQObaMkH/AQ26LItG55z+w8OEEsQZm8MPIKuO46hQg3FPIEH8TtDVocFt/+FQL+N7dga0lumELVqbjKUUjX+27C+3bNFyc2fzsnatgLX+C8g50BE/shqfAR1Q74d7/Lw9u0w7a+sLKukD/IXJS/0AAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(c.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"Jenkins Aqua Freestle Ressults",title:"Jenkins Aqua Freestle Ressults ",src:"/ibm-gsi-cloudnative-journey/static/6f68e82cdd5c6e278424d0583a4bdae9/7ccc2/Aqua-Jenkins-Scan-Result-Freestyle.png",srcSet:["/ibm-gsi-cloudnative-journey/static/6f68e82cdd5c6e278424d0583a4bdae9/7fc1e/Aqua-Jenkins-Scan-Result-Freestyle.png 288w","/ibm-gsi-cloudnative-journey/static/6f68e82cdd5c6e278424d0583a4bdae9/a5df1/Aqua-Jenkins-Scan-Result-Freestyle.png 576w","/ibm-gsi-cloudnative-journey/static/6f68e82cdd5c6e278424d0583a4bdae9/7ccc2/Aqua-Jenkins-Scan-Result-Freestyle.png 902w"],sizes:"(max-width: 902px) 100vw, 902px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(c.b)("p",null,"You can also see results of the scan as an HTML page. In the Jenkins build menu, select Aqua Security Scanner, and then select the job whose results you wish to see. The results will appear like this."),Object(c.b)("p",null,"Also on Aqua CSP , you can see the Images ->CI/CD scans"),Object(c.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"902px"}},"\n      ",Object(c.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"20.13888888888889%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA4ElEQVQY01WPPU4EMQyF5yzsGRA/oqGj2IWCGgESLTeAgm4pqJaGintQcJjtENIyzCaZ2E7yoWS2wZIt/zz7PXcXN/ecXt7x/PpOMkVEUDVEFG8ZMSPGSEqJnPN/L4WNC2x+esYoiCrd8fkts4M5D8sVlIxznmSGqjJYJrbjQrWyi2VKpqqU1q8ENe9OFlfs7Z/xuFw1YIhCqOrEmqqUC8OvZ7teI9EzRkPUcGFsqiphP7jWs5TpjubXzA4XPL28NcYxRiRlnE0vVhu+B/rPD3T7hR8N2y3XeapYH1CzpvAPPeIjqjil36wAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(c.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"Jenkins Aqua Freestle Ressults",title:"Jenkins Aqua Freestle Ressults ",src:"/ibm-gsi-cloudnative-journey/static/48e508d5b966ea4bb5ad1b93a2e0b8f2/7ccc2/Aqua-Jenkins-Images-CI%3ACD1.png",srcSet:["/ibm-gsi-cloudnative-journey/static/48e508d5b966ea4bb5ad1b93a2e0b8f2/7fc1e/Aqua-Jenkins-Images-CI%3ACD1.png 288w","/ibm-gsi-cloudnative-journey/static/48e508d5b966ea4bb5ad1b93a2e0b8f2/a5df1/Aqua-Jenkins-Images-CI%3ACD1.png 576w","/ibm-gsi-cloudnative-journey/static/48e508d5b966ea4bb5ad1b93a2e0b8f2/7ccc2/Aqua-Jenkins-Images-CI%3ACD1.png 902w"],sizes:"(max-width: 902px) 100vw, 902px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(c.b)("p",null,"Drill down"),Object(c.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"902px"}},"\n      ",Object(c.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"46.18055555555556%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABb0lEQVQoz52SzWoVQRBG5+GCuMkD+AyuRXThM7gRBN2YXRZCMFt3kRBEjSRIAokQjIlJYHJn7vR/d9WR6fGGq3GjBYf6uuiq6q7upo2F3gVmPuGcp+s6vPeklMg5VxY6Vl9Q1YqMyC+vii9CMwuRi77japjTWot1AeM888EyWIexjsFYjPVY6wgx4XwghDgVlYIWqRpVms55vrbXHLctp7Me6yMupFv4mEm5kFIm5oIrBWcTbe/pVUlFyKI0ZjDMux5JGUQpRSgijCZL6wVShKSCRvh8ecT65hrftz9ioO5trA/1atMpJkLMfDu7ZLCekPJNfMSFWJud2StWdh/y/M1LhrurcPgBBRofEnbEx984ODml7U1tZJbivXW14LOTDZ58eVF1/PQK9/Zx1U0upc4m/0EUIZW/xHOqibvdEXd2HvD6fIt77x+x82NrKsh/2GLG79p97u89ZeNie5q5Cs3iT/0L47DG5GXT8aEUfgIP/7MwUlQptAAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(c.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"Jenkins Aqua Freestle Ressults",title:"Jenkins Aqua Freestle Ressults ",src:"/ibm-gsi-cloudnative-journey/static/611792f4789e3413ecf09e84bc352f1d/7ccc2/Aqua-Jenkins-Images-CI%3ACD2.png",srcSet:["/ibm-gsi-cloudnative-journey/static/611792f4789e3413ecf09e84bc352f1d/7fc1e/Aqua-Jenkins-Images-CI%3ACD2.png 288w","/ibm-gsi-cloudnative-journey/static/611792f4789e3413ecf09e84bc352f1d/a5df1/Aqua-Jenkins-Images-CI%3ACD2.png 576w","/ibm-gsi-cloudnative-journey/static/611792f4789e3413ecf09e84bc352f1d/7ccc2/Aqua-Jenkins-Images-CI%3ACD2.png 902w"],sizes:"(max-width: 902px) 100vw, 902px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(c.b)("h3",null,"Jenkins Freestyle project - Scan via Aqua CSP"),Object(c.b)("p",null,"You can use the plugin for Jenkins in the build process in Pipeline jobs. You can configure the job to scan images during the build process, or after the build completes and the image is pushed to a registry."),Object(c.b)("p",null,"In Pipeline jobs, the build step for Aqua scanning is included in a pipeline script, as part of the job configuration."),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"In Jenkins, in the Configure page for a job, scroll to the Pipeline section."),Object(c.b)("li",{parentName:"ul"},"To scan a locally hosted image, include a snippet such as this in the pipeline script."),Object(c.b)("li",{parentName:"ul"},"Replace the localImage parameter value with the identifier of the actual image in your pipeline.")),Object(c.b)("p",null,"You may also use the Jenkins Snippet Generator. Click Pipeline Syntax to get started:"),Object(c.b)("p",null,"Enter details for the image,  and then click Generate Pipeline Script. Copy this to the pipeline script."))}d.isMDXComponent=!0},BAC9:function(e,a,t){e.exports={bxTextTruncateEnd:"EditLink-module--bx--text-truncate--end--2pqje",bxTextTruncateFront:"EditLink-module--bx--text-truncate--front--3_lIE",link:"EditLink-module--link--1qzW3",row:"EditLink-module--row--1B9Gk"}},I8xM:function(e,a,t){e.exports={bxTextTruncateEnd:"PageTabs-module--bx--text-truncate--end--267NA",bxTextTruncateFront:"PageTabs-module--bx--text-truncate--front--3xEQF",tabsContainer:"PageTabs-module--tabs-container--8N4k0",list:"PageTabs-module--list--3eFQc",listItem:"PageTabs-module--list-item--nUmtD",link:"PageTabs-module--link--1mDJ1",selectedItem:"PageTabs-module--selected-item--YPVr3"}},OIbQ:function(e,a,t){e.exports={bxTextTruncateEnd:"last-modified-date-module--bx--text-truncate--end--123zi",bxTextTruncateFront:"last-modified-date-module--bx--text-truncate--front--3xeKz",text:"last-modified-date-module--text--24m-4",row:"last-modified-date-module--row--2BquN"}},QH2O:function(e,a,t){e.exports={bxTextTruncateEnd:"PageHeader-module--bx--text-truncate--end--mZWeX",bxTextTruncateFront:"PageHeader-module--bx--text-truncate--front--3zvrI",pageHeader:"PageHeader-module--page-header--3hIan",darkMode:"PageHeader-module--dark-mode--hBrwL",withTabs:"PageHeader-module--with-tabs--3nKxA",text:"PageHeader-module--text--o9LFq"}}}]);
//# sourceMappingURL=component---src-pages-developer-advanced-2-devsecops-aquasec-csp-index-old-mdx-b1f62ce0ee34a11d21fa.js.map